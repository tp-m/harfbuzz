in_house_tests = [
  ['aat-trak.tests'],
  ['aat-morx.tests'],
  ['arabic-fallback-shaping.tests'],
  ['arabic-feature-order.tests'],
  ['arabic-like-joining.tests'],
  ['arabic-mark-attach.tests'],
  ['arabic-mark-order.tests'],
  ['arabic-stch.tests'],
  ['automatic-fractions.tests'],
  ['cluster.tests'],
  ['collections.tests'],
  ['color-fonts.tests'],
  ['context-matching.tests'],
  ['cursive-positioning.tests'],
  ['default-ignorables.tests'],
  ['emoji.tests'],
  ['fallback-positioning.tests'],
  ['hangul-jamo.tests'],
  ['hyphens.tests'],
  ['indic-consonant-with-stacker.tests'],
  ['indic-decompose.tests'],
  ['indic-init.tests'],
  ['indic-joiner-candrabindu.tests'],
  ['indic-joiners.tests'],
  ['indic-old-spec.tests'],
  ['indic-pref-blocking.tests'],
  ['indic-script-extensions.tests'],
  ['indic-special-cases.tests'],
  ['indic-syllable.tests'],
  ['indic-vowel-letter-spoofing.tests'],
  ['khmer-mark-order.tests'],
  ['khmer-misc.tests'],
  ['language-tags.tests'],
  ['ligature-id.tests'],
  ['mark-attachment.tests'],
  ['mark-filtering-sets.tests'],
  ['mongolian-variation-selector.tests'],
  ['myanmar-syllable.tests'],
  ['myanmar-zawgyi.tests'],
  ['none-directional.tests'],
  ['rand.tests'],
  ['spaces.tests'],
  ['simple.tests'],
  ['sinhala.tests'],
  ['tibetan-contractions-1.tests'],
  ['tibetan-contractions-2.tests'],
  ['tibetan-vowels.tests'],
  ['use.tests'],
  ['use-indic3.tests'],
  ['use-marchen.tests'],
  ['use-syllable.tests'],
  ['variations-rvrn.tests'],
  ['vertical.tests'],
  ['zero-width-marks.tests'],
]

text_rendering_tests = [
  ['AVAR-1.tests'],
  ['CFF-1.tests'],
  ['CFF2-1.tests'],
  ['CFF-2.tests'],
  ['CMAP-1.tests'],
  ['CMAP-2.tests'],
  ['CVAR-1.tests'],
  ['CVAR-2.tests'],
  ['GLYF-1.tests'],
  ['GPOS-1.tests'],
  ['GPOS-2.tests'],
  ['GPOS-3.tests'],
  ['GPOS-4.tests'],
  ['GPOS-5.tests'],
  ['GSUB-1.tests'],
  ['GSUB-2.tests'],
  ['GSUB-3.tests'],
  ['GVAR-1.tests'],
  ['GVAR-2.tests'],
  ['GVAR-3.tests'],
  ['GVAR-4.tests'],
  ['GVAR-5.tests'],
  ['GVAR-6.tests'],
  ['GVAR-7.tests'],
  ['GVAR-8.tests'],
  ['GVAR-9.tests'],
  ['HVAR-1.tests'],
  ['HVAR-2.tests'],
  ['KERN-1.tests'],
  ['KERN-2.tests'],
  ['MORX-10.tests'],
  ['MORX-11.tests'],
  ['MORX-12.tests'],
  ['MORX-13.tests'],
  ['MORX-14.tests'],
  ['MORX-16.tests'],
  ['MORX-17.tests'],
  ['MORX-18.tests'],
  ['MORX-19.tests'],
  ['MORX-1.tests'],
  ['MORX-20.tests'],
  ['MORX-21.tests'],
  ['MORX-22.tests'],
  ['MORX-23.tests'],
  ['MORX-24.tests'],
  ['MORX-25.tests'],
  ['MORX-26.tests'],
  ['MORX-27.tests'],
  ['MORX-28.tests'],
  ['MORX-29.tests'],
  ['MORX-2.tests'],
  ['MORX-30.tests'],
  ['MORX-32.tests'],
  ['MORX-33.tests'],
  ['MORX-34.tests'],
  ['MORX-35.tests'],
  ['MORX-36.tests'],
  ['MORX-37.tests'],
  ['MORX-38.tests'],
  ['MORX-39.tests'],
  ['MORX-3.tests'],
  ['MORX-40.tests'],
  ['MORX-4.tests'],
  ['MORX-5.tests'],
  ['MORX-6.tests'],
  ['MORX-7.tests'],
  ['MORX-8.tests'],
  ['MORX-9.tests'],
  ['SHBALI-3.tests'],
  ['SHKNDA-1.tests'],
]

disabled_text_rendering_tests = [
  ['CMAP-3.tests'],
  ['MORX-31.tests'],
  ['MORX-41.tests'],
  ['SHARAN-1.tests'],
  ['SHBALI-1.tests'],
  ['SHBALI-2.tests'],
  ['SHKNDA-2.tests'],
  ['SHKNDA-3.tests'],
]

foreach test_data : in_house_tests
  fname = test_data[0]

  test_name = fname.split('.')[0].underscorify()

  test(test_name, python3,
    args: [
      files('run-tests.py')[0],
      hb_shape,
      join_paths(meson.current_source_dir(), 'data/in-house/tests', fname),
    ],
    workdir: join_paths(meson.current_build_dir(), '..', '..'),
  )
endforeach

foreach test_data : text_rendering_tests
  fname = test_data[0]

  test_name = fname.split('.')[0].underscorify()

  test(test_name, python3,
    args: [
      files('run-tests.py')[0],
      hb_shape,
      join_paths(meson.current_source_dir(), 'data/text-rendering-tests/tests', fname),
    ],
    workdir: join_paths(meson.current_build_dir(), '..', '..'),
  )
endforeach
